# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
spack:
  # add package specs to the `specs` list
  specs: []
  view: false

  config:
    install_tree:: /curc/sw/opt/spack

    build_stage::
      - /scratch/local
      - /tmp

    module_roots::
      lmod: /curc/sw/modules/spack/spring2020

  mirrors:
    curc: file:///curc/mirror/spack

  compilers:
    - compiler:
        environment: {}
        extra_rpaths: []
        flags: {}
        modules: []
        operating_system: rhel7
        paths:
          cc: /usr/bin/gcc
          cxx: /usr/bin/g++
          f77: /usr/bin/gfortran
          fc: /usr/bin/gfortran
        spec: gcc@4.8.5
        target: x86_64
    - compiler:
        environment: {}
        extra_rpaths: []
        flags: {}
        modules: []
        operating_system: rhel7
        paths:
          cc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/gcc-8.2.0-53nwzse3oyvekrsvnkvwo6c5nag5itct/bin/gcc
          cxx: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/gcc-8.2.0-53nwzse3oyvekrsvnkvwo6c5nag5itct/bin/g++
          f77: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/gcc-8.2.0-53nwzse3oyvekrsvnkvwo6c5nag5itct/bin/gfortran
          fc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/gcc-8.2.0-53nwzse3oyvekrsvnkvwo6c5nag5itct/bin/gfortran
        spec: gcc@8.2.0
        target: x86_64
    - compiler:
        environment: {}
        extra_rpaths: []
        flags:
          cflags: -axCORE-AVX512,CORE-AVX2,AVX,SSE4.2
          cxxflags: -axCORE-AVX512,CORE-AVX2,AVX,SSE4.2
          fflags: -axCORE-AVX512,CORE-AVX2,AVX,SSE4.2
        modules: []
        operating_system: rhel7
        paths:
          cc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/intel-18.0.3-kwbptw7qxxylgkaoj5nm4cmn2nfwq4hw/bin/icc
          cxx: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/intel-18.0.3-kwbptw7qxxylgkaoj5nm4cmn2nfwq4hw/bin/icpc
          f77: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/intel-18.0.3-kwbptw7qxxylgkaoj5nm4cmn2nfwq4hw/bin/ifort
          fc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/intel-18.0.3-kwbptw7qxxylgkaoj5nm4cmn2nfwq4hw/bin/ifort
        spec: intel@18.0.3
        target: x86_64
    - compiler:
        environment: {}
        extra_rpaths: []
        flags: {}
        modules: []
        operating_system: rhel7
        paths:
          cc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/pgi-18.4-p3oqv4mfexi5soq4lvfhb4vkrl4cpxqj/linux86-64/18.4/bin/pgcc
          cxx: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/pgi-18.4-p3oqv4mfexi5soq4lvfhb4vkrl4cpxqj/linux86-64/18.4/bin/pgc++
          f77: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/pgi-18.4-p3oqv4mfexi5soq4lvfhb4vkrl4cpxqj/linux86-64/18.4/bin/pgfortran
          fc: /curc/sw/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/pgi-18.4-p3oqv4mfexi5soq4lvfhb4vkrl4cpxqj/linux86-64/18.4/bin/pgfortran
        spec: pgi@18.4
        target: x86_64

  modules:
    enable::
      - lmod

    lmod:
      hash_length: 0

      core_compilers::
        - 'gcc@4.8.5'

      blacklist:
        - '%gcc'
        - '%pgi'
        - '%intel'

      whitelist:
        - autoconf%gcc@4.8.5
        - automake%gcc@4.8.5
        - cmake%gcc@4.8.5
        - cuda%gcc@4.8.5
        - dmtcp%gcc@4.8.5
        - gcc@6.1.0
        - gcc@8.2.0
        - gdb%gcc@4.8.5
        - git%gcc@4.8.5
        - hdf5 +hl
        - intel
        - intel-mkl
        - intel-mpi
        - intel-parallel-studio
        - libgeotiff
        - libpng
        - libtool%gcc@4.8.5
        - mercurial%gcc@4.8.5
        - netcdf
        - netcdf-c
        - netcdf-fortran
        - openmpi
        - openmpi
        - parallel%gcc@4.8.5
        - parallel-netcdf
        - perl%gcc@4.8.5
        - pgi@18.4
        - pgi@19.4
        - singularity%gcc@4.8.5
        - cgns

      hierarchy::
        - mpi
        - lapack
